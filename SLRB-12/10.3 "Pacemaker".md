# Домашнее задание к занятию "10.3 Pacemaker"

---

### Задание 1.

Опишите основные функции и назначение Pacemaker.

*Приведите ответ в свободной форме.*

### Ответ:

- Peacemaker— это менеджер ресурсов кластера со следующими основными функциями:
- Обнаружение и восстановление сбоев на уровне узлов и сервисов;
- Независимость от подсистемы хранения: общий диск не требуется;
- Независимость от типов ресурсов: все, что может быть заскриптовано, может быть кластеризовано;
- Поддержка STONITH (Shoot-The-Other-Node-In-The-Head);
- Поддержка кластеров любого размера;
- Поддержка и кворумных и ресурсозависимых кластеров;
- Поддержка практически любой избыточной конфигурации;
- Автоматическая репликация конфига на все узлы кластера;
- Возможность задания порядка запуска ресурсов, а также их совместимости на одном узле;
- Поддержка расширенных типов ресурсов: клонов (запущен на множестве узлов) и с дополнительными состояниями (master/slave и т.п.);
- Единый кластерный шелл (crm), унифицированный, скриптующийся.

---

### Задание 2.

Опишите основные функции и назначение Corosync.

*Приведите ответ в свободной форме.*

### Ответ:

Corosync — программный продукт, позволяющий реализовать кластер серверов. Его основное назначение — знать и передавать состояние всех участников кластера.В основе работы заложены следующие функции:
-отслеживание состояния приложений;
-оповещение приложений о смене активной ноды кластера;
-отправка одинаковых сообщений процессам на всех узлах кластера;
-предоставление доступа к базе данных с конфигурацией и статистикой, а также отправка уведомлений о ее изменениях.

---

### Задание 3.

Соберите модель, состоящую из двух виртуальных машин. Установите pacemaker, corosync, pcs.  Настройте HA кластер.

*Пришлите скриншот рабочей конфигурации и состояния сервиса для каждого нода.*

---

### Дополнительные задания (со звездочкой*)
Эти задания дополнительные (не обязательные к выполнению) и никак не повлияют на получение вами зачета по этому домашнему заданию. Вы можете их выполнить, если хотите глубже и/или шире разобраться в материале.
 
---

### Задание 4.

Установите и настройте DRBD сервис для настроенного кластера.

*Пришлите скриншот рабочей конфигурации и состояние сервиса для каждого нода.*

### Ответ:
![node1 1](https://raw.githubusercontent.com/vanechaev/study/ab4d6df22a16a796cd29e11508b382f58d83a510/SLRB-12/images/10.3/VirtualBox_node1_25_10_2022_10_42_13.png)

![node1 resourse www](SLRB-12/images/10.3/VirtualBox_node1_25_10_2022_10_43_51.png)

![node1 resourse mysql](SLRB-12/images/10.3/VirtualBox_node1_25_10_2022_10_44_22.png)

![node2 1](SLRB-12/images/10.3/VirtualBox_node2_25_10_2022_10_43_16.png)

![node2 resourse www](SLRB-12/images/10.3/VirtualBox_node2_25_10_2022_10_45_26.png)

![node2 resourse mysql](SLRB-12/images/10.3/VirtualBox_node2_25_10_2022_10_46_04.png)
