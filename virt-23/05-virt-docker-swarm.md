## Домашнее задание к занятию "5. Оркестрация кластером Docker контейнеров на примере Docker Swarm" - Нечаев Владимир

<details>
<summary>Задача 1</summary>
  
> Дайте письменые ответы на следующие вопросы:
>
> - В чём отличие режимов работы сервисов в Docker Swarm кластере: replication и global?
> - Какой алгоритм выбора лидера используется в Docker Swarm кластере?
> - Что такое Overlay Network?
  
</details>

#### Ответ:

- Для реплицируемой службы указывается количество идентичных задач, которые хотят запустить.

Глобальная служба — запускает одну задачу на каждой ноде.
Заранее заданного количества задач нет. 
Каждый раз, когда добавляется узел в кластер, оркестратор создает задачу, а планировщик назначает задачу новой ноде.

- Лидер нода выбирается из управляючих нод путем Raft согласованного алгоритма.Сам Raft-алгоритм имеет ограничение на количество управляющих нод. Распределенные решения
должны быть одобрены большинством управляющих узлов, называемых кворумом. Это означает, что рекомендуется нечетное количество управляющих узлов.

- Overlay-сеть создает подсеть, которую могут использовать контейнеры в разных хостах swarm-кластера. Контейнеры на разных физических хостах могут обмениваться данными по overlay-сети (если все они прикреплены к одной сети).
Overlay-сеть использует технологию vxlan, которая инкапсулирует layer 2 фреймы в layer 4 пакеты (UDP/IP). При помощи этого действия Docker создает виртуальные сети поверх существующих связей между хостами, которые могут оказаться внутри одной подсети. Любые точки, которые являются частью этой виртуальной сети, выглядят друг для друга так, будто они связаны поверх свича и не заботятся об устройстве основной физической сети. [(С)](https://habr.com/ru/post/334004/)

